<wdkModel>
  <stepAnalysisPlugins>
    
    <viewConfig prefix="/wdkCustomization/jsp/analysis/" suffix=".jsp"/>
    <executionConfig threadPoolSize="25" fileStoreDirectory="@STEP_ANALYSIS_JOB_DIR@"/>

     <stepAnalysisPlugin
        name="person-graph-analysis" displayName="Graph Person Results"
        releaseVersion="1"
        analysisViewName="eupathExternalAnalysisResult"
        analyzerClass="org.eupathdb.common.model.analysis.EuPathExternalAnalyzer">
      <shortDescription>
        <![CDATA[
                 Graph utilizing R and shiny the results in this step.
        ]]>
      </shortDescription>
      <description/>
      <property name="externalAppUrl"><![CDATA[/shiny/App-2-ps]]></property>
      <property name="attributesToExtract">name,avg_hemo,avg_weight,ave_anoph,ave_para_density,visits_per_year_obs,visit_count,time_of_obs,ave_age_visit,EUPATH_0000034,EUPATH_0000054,EUPATH_0000033,EUPATH_0000035,PATO_0000047,EUPATH_0000002</property>
      <property name="addHeader">true</property>
      <property name="iframeWidthPx">1000</property>
      <property name="iframeLengthPx">800</property>
    </stepAnalysisPlugin>     


<stepAnalysisPlugin
        name="light-trap-plots" displayName="Total Anopheles graphed by Month Year"
        releaseVersion="1"
        analysisViewName="eupathExternalAnalysisResult"
        analyzerClass="org.eupathdb.common.model.analysis.EuPathExternalAnalyzer">
      <shortDescription>
        <![CDATA[
          Plot a graph of # mosquito collections of this result
        ]]>
      </shortDescription>
      <description/>
      <property name="externalAppUrl"><![CDATA[/shiny/App-3-lts]]></property>
      <property name="attributesToExtract">source_id,sum_female_As_in_a_collection,sum_female_As_gambiae_in_a_co,sum_female_As_funestus_in_a_c,total_anopheles_tested,total_anopheles_positive,subcounty_in_uganda,date_of_visit,gravid_a_gambiae,gravid_a_funestus,parous,nulliparous</property>
      <property name="addHeader">true</property>
      <property name="iframeWidthPx">1000</property>
      <property name="iframeLengthPx">800</property>
    </stepAnalysisPlugin>

<stepAnalysisPlugin
        name="clinical-visit-dist" displayName="Number of Observations Distribution"
        releaseVersion="1"
        analysisViewName="eupathExternalAnalysisResult"
        analyzerClass="org.eupathdb.common.model.analysis.EuPathExternalAnalyzer">
      <shortDescription>
        <![CDATA[
          Plot a graph of # of observations distribution of this result
        ]]>
      </shortDescription>
      <description/>
      <property name="externalAppUrl"><![CDATA[/shiny/App-1-cv]]></property>
      <property name="attributesToExtract">EUPATH_0000311,EUPATH_0000338,EUPATH_0000054,EUPATH_0000097,EUPATH_0000047,EUPATH_0000092,EUPATH_0000048,EUPATH_0000113,EUPATH_0000091</property>
<!--      <property name="attributesToExtract">visit_type,malaria_diagnosis_and_parasit,subcounty_in_uganda,febrile,hemoglobin,asexual_parasite_density,asexual_parasites_present_mic,age_since_birth_at_time_of_vi,visit_date</property> -->
      <property name="addHeader">true</property>
      <property name="iframeWidthPx">1000</property>
      <property name="iframeLengthPx">800</property>
    </stepAnalysisPlugin>

    <stepAnalysisPlugin
        name="clinepi-event-dist" displayName="Observation Distribution for Selected Participants"
        releaseVersion="1"
        analysisViewName="eupathExternalAnalysisResult"
        analyzerClass="org.clinepi.model.analysis.ShinyAnalysisPlugin">
      <shortDescription>
        <![CDATA[
                 Plot a histogram of the distribution of any available data for the chosen set of participants
        ]]>
      </shortDescription>
      <description/>
      <property name="dataset_name"><![CDATA[ISASimple_Gates_MAL-ED_stdm_tp_RSRC]]></property>
      <property name="externalAppUrl"><![CDATA[/shiny/ClinEpi_EventDist]]></property>
      <property name="tablesToExtract">ShinyParticipants,ShinyEvents,ShinyHouseholds</property>
      <property name="addHeader">true</property>
      <property name="iframeWidthPx">1000</property>
      <property name="iframeLengthPx">800</property>
    </stepAnalysisPlugin>

  </stepAnalysisPlugins>
</wdkModel>

<wdkModel>

  <questionSet name="HouseholdQuestions" displayName="Search for Households" includeProjects="ICEMR">

    <!-- ************************************************************ -->
    <!-- Characteristics -->  
    <!-- ************************************************************ -->


   <question name="HouseholdsByCharacteristics" newBuild="1"
              searchCategory="Household"
              displayName="Select a Set of Households"
              shortDisplayName="Household Details"
              queryRef="HouseholdId.HouseholdsByCharacteristics" 
              recordClassRef="DS_0ad509829eHouseholdRecordClasses.DS_0ad509829eHouseholdRecordClass">

<!--
        <attributesList 
            summary="EUPATH_0000054,EUPATH_0000002,ave_anoph,part_count,EUPATH_0000019"        
        /> 
-->

	<dynamicAttributes>
	     <columnAttribute name="ave_anoph" displayName="Avg Anopheles" help="Average number of anopheles mosquitos collected in this household over the time frame specified" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
            <columnAttribute name="part_count" displayName="# Matching Participants" help="Number of participants from this household who matched your participants criteria" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
<!--
            <columnAttribute internal="true" inReportMaker="false" name="start_date"/>
            <columnAttribute internal="true" inReportMaker="false" name="end_date"/>
             <textAttribute name="lt_graph" displayName="Mosquito Collections" inReportMaker="false" truncateTo="100000">
                <text>
                   <![CDATA[
                   <img src="/cgi-bin/dataPlotter.pl?project_id=@PROJECT_ID@&id=$$primary_key$$&enddate=$$end_date$$&startdate=$$start_date$$&type=HouseholdLightTrap&fmt=png&thumb=1"/>
                    ]]>
                </text>
             </textAttribute>
-->
        </dynamicAttributes>
            

        <summary>
            <![CDATA[ 
           Find households based on household and participant details.
            ]]>
        </summary>

        <propertyList name="organism">
           <value>H. sapien</value>
        </propertyList>
        <propertyList name="websiteProperties">
          <value>useWizard</value>
          <value>hideOperation</value>
          <value>hideTitle</value>
          <value>hideAttrDescr</value>
        </propertyList>
               
        <description>
            <![CDATA[
             Find households based on details of the household itself and the participants participants who live there. 
            ]]>
        </description>
 
    </question>


      <!-- TEMPLATE_ANCHOR householdSourceIdQuestion -->


    <!-- transforms -->

      <!-- TEMPLATE_ANCHOR householdsByParticipantQuestion -->
   
    
    <question name="HouseholdsByLightTrapId"   newBuild="1"
              displayName="Transform to Households"
              shortDisplayName="lighttrap->households"
              queryRef="HouseholdId.HouseholdsByLightTrapIds"
              recordClassRef="DS_0ad509829eHouseholdRecordClasses.DS_0ad509829eHouseholdRecordClass"
              noSummaryOnSingleRecord="true">
    
<!--
    <attributesList
            summary="EUPATH_0000054,lt_count,ave_anoph"
        />
-->
	<dynamicAttributes>
	     <columnAttribute name="lt_count" displayName="# Collections" help="number of light trap collections from transformed result set associated with this household" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	     <columnAttribute name="ave_anoph" displayName="Average Anopheles" help="Average of the anopheles collected from the transformed collections for this household" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	</dynamicAttributes>

             <summary>
             Find households by light trap collections from the household.
             </summary>

             <description>
               <![CDATA[
              Find households by light trap collections from the household.
               ]]>
             </description>
    </question>
  

  </questionSet>
</wdkModel>

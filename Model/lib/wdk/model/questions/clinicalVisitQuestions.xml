<wdkModel>

  <questionSet name="ClinicalVisitQuestions" displayName="Search for Clinical Visits" excludeProjects="TrichDB">

    <!-- ************************************************************ -->
    <!-- Characteristics -->  
    <!-- ************************************************************ -->


   <question name="ClinicalVisitByCharacteristics" newBuild="22"
              searchCategory="Clinical Visit"
              displayName="Dwelling, Individual and Visit Details"
              shortDisplayName="Visit Details"
              queryRef="ClinicalVisitId.ClinicalVisitsByMetadataCross" 
              recordClassRef="ClinicalVisitRecordClasses.ClinicalVisitRecordClass">


        <attributesList 
            summary="EUPATH_0000091,parent_id,EUPATH_0000113,EUPATH_0000311"
        /> 
 
       

        <summary>
            <![CDATA[ 
           Find clinical visits based on visit and participant details.
            ]]>
        </summary>

        <propertyList name="organism">
           <value>H. sapien</value>
        </propertyList>
        <description>
            <![CDATA[
             Find clinical visits based on details of the participant and their dwelling in addition to the clinical visit details. <br />
            ]]>
        </description>

 
    </question>

    <question name="ClinicalVisitBySourceID" newBuild="22"
              searchCategory="Clinical Visit"
              displayName="Clinical Visit ID"
              shortDisplayName="Visit ID"
              queryRef="ClinicalVisitId.ClinicalVisitsBySourceID" 
              recordClassRef="ClinicalVisitRecordClasses.ClinicalVisitRecordClass">



        <attributesList 
            summary="EUPATH_0000091,parent_id,EUPATH_0000113,EUPATH_0000311"
        /> 
 

        <summary>
            <![CDATA[ 
           Find subjects based on source ID's
            ]]>
        </summary>

        <description>
            <![CDATA[
             Find subjects based on Source ID's <br />
            ]]>
        </description>

 
    </question>

   <question name="ClinicalVisitByDateComparison" newBuild="22"
              searchCategory="Clinical Visit"
              displayName="Relative Visit Dates"
              shortDisplayName="Relative Visits"
              queryRef="ClinicalVisitId.VisitByRelativeDate" 
              recordClassRef="ClinicalVisitRecordClasses.ClinicalVisitRecordClass">

        <attributesList 
            summary="EUPATH_0000091,parent_id,EUPATH_0000113,EUPATH_0000311,min_days_between,num_matching_visits"        
        /> 
        <dynamicAttributes>
	  <columnAttribute name="min_days_between" displayName="Min days between visits" help="Reports the minimum days between any matching visits and the visit returned" align="center">
	    <plugin name="histogram" display="Histogram"
		    description="Display a histogram of the values"
		    implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
		    view="/wdk/jsp/results/histogram.jsp" />
	  </columnAttribute>
	  <columnAttribute name="num_matching_visits" displayName="# matching visits" help="Count of the matching visits any one of which would cause this visit to be removed or retained, depending on the parameters of the search" align="center">
	    <plugin name="histogram" display="Histogram"
		    description="Display a histogram of the values"
		    implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
		    view="/wdk/jsp/results/histogram.jsp" />
	  </columnAttribute>
	</dynamicAttributes>
        
        <summary>
            <![CDATA[ 
           Find visits based on comparison of relative visits.
            ]]>
        </summary>

        <propertyList name="organism">
           <value>H. sapien</value>
        </propertyList>
        <description>
            <![CDATA[
             Find visits based on metadata characteristics and relative date comparison. This search can be utilized to find routine visits where the patient had asymptomatic malaria but didn't return with a malaria positive visit within 10 days of the first visit.<br />
            ]]>
        </description>


    </question>
    <question name="ClinicalVisitsByParticipants" newBuild="22"
	      displayName="Transform to clinical visits"
	      shortDisplayName="participants->clinicalvisits"
	      queryRef="ClinicalVisitId.VisitsByParticipantIds"
	      recordClassRef="ClinicalVisitRecordClasses.ClinicalVisitRecordClass"
	      noSummaryOnSingleRecord="true">
      <attributesList
	 summary="EUPATH_0000091,participant,EUPATH_0000113,EUPATH_0000311"
	 sorting="participant DESC"
	
	 />
      <dynamicAttributes>
	<columnAttribute name="participant" displayName="Pariticpants Transformed" help="Participants clinical visits are associated with" align="center">
	  <plugin name="histogram" display="Histogram"
		  description="Display a histogram of the values"
		  implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
		  view="/wdk/jsp/results/histogram.jsp" />
	  </columnAttribute>
	</dynamicAttributes>
      
      <summary>
	Find clinical visit by participant ID's
      </summary>
      <description>
      Find clincal visits by participant ID's
      </description>

  </question>
  </questionSet>
</wdkModel>

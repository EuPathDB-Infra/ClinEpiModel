<wdkModel>

  <questionSet name="ParticipantQuestions" displayName="Search for participants" excludeProjects="TrichDB">

    <!-- ************************************************************ -->
    <!-- Characteristics -->  
    <!-- ************************************************************ -->

   <question name="ParticipantsByAllData" newBuild="1"
              searchCategory="Participant"
              displayName="Select a Set of Participants (no Relative Visits)"
              shortDisplayName="Part Details"
              queryRef="ParticipantId.ParticipantsByCharWiz" 
              recordClassRef="ParticipantRecordClasses.ParticipantRecordClass" >



        <attributesList 
            summary="EUPATH_0000054,ave_anoph,ave_para_density,time_of_obs,visit_count,visits_per_year_obs,avg_weight, avg_hemo"        
        /> 

	<dynamicAttributes>
	    <columnAttribute name="avg_hemo" displayName="Avg Hemoglobin" help="Average hemoglobin of visits meeting search criteria over the time frame specified" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>     
             <columnAttribute name="avg_weight" displayName="Avg Weight" help="Average weight of visits meeting search criteria over the time frame specified" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>   
             
	     <columnAttribute name="ave_anoph" displayName="Avg Anopheles" help="Average number of anopheles mosquitos collected in this participants dwelling over the time frame specified" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
            <columnAttribute name="ave_para_density" displayName="Geo Mean Parasite Density" help="Average parasite density of participant in visits meeting search criteria" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	     <columnAttribute name="visits_per_year_obs" displayName="Matching Visits / Year" align="center" help="Number of visits matching search criteria / year of observation for this participant"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	     <columnAttribute name="visit_count" displayName="# matching visits" align="center" help="Number of visits visits matching the search criteria for this participant"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	     <columnAttribute name="time_of_obs" displayName="Years of Observation" align="center" help="Number of years this person was observed matching date and age ranges"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	     <columnAttribute name="ave_age_visit" displayName="Avg age at visit" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	</dynamicAttributes>
          

        <summary>
            <![CDATA[
            In this search, you will build a set of Participants.  You can use the wealth of data in the PRISM study to find Participants with scientifically interesting patterns.
            More here...
            ]]>
        </summary>

        <propertyList name="organism">
           <value>H. sapien</value>
        </propertyList>
        <propertyList name="websiteProperties">
          <value>useWizard</value>
          <value>hideOperation</value>
          <value>hideTitle</value>
          <value>hideAttrDescr</value>
        </propertyList>
        <description>
            <![CDATA[
             Find participants based on metadata characteristics. <br />
            ]]>
        </description>
 
    </question>

    <question name="ParticipantsByRelativeVisits" newBuild="1"
              searchCategory="Participant"
              displayName="Select a Set of Participants"
              shortDisplayName="Part by Rel Visits"
              queryRef="ParticipantId.ParticipantsByCharWizRelVis" 
              recordClassRef="ParticipantRecordClasses.ParticipantRecordClass" >



        <attributesList 
            summary="EUPATH_0000054,ave_anoph,ave_para_density,time_of_obs,visit_count,visits_per_year_obs,avg_weight,avg_hemo"        
        /> 


	<dynamicAttributes>
	    <columnAttribute name="avg_hemo" displayName="Avg Hemoglobin" help="Average hemoglobin of visits meeting search criteria over the time frame specified" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>     
             <columnAttribute name="avg_weight" displayName="Avg Weight" help="Average weight of visits meeting search criteria over the time frame specified" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>   
             
	     <columnAttribute name="ave_anoph" displayName="Avg Anopheles" help="Average number of anopheles mosquitos collected in this participants dwelling over the time frame specified" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
            <columnAttribute name="ave_para_density" displayName="Geo Mean Parasite Density" help="Average parasite density of participant in visits meeting search criteria" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	     <columnAttribute name="visits_per_year_obs" displayName="Matching Visits / Year" align="center" help="Number of visits matching search criteria / year of observation for this participant"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	     <columnAttribute name="visit_count" displayName="# matching visits" align="center" help="Number of visits visits matching the search criteria for this participant"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	     <columnAttribute name="time_of_obs" displayName="Years of Observation" align="center" help="Number of years this person was observed matching date and age ranges"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	     <columnAttribute name="ave_age_visit" displayName="Avg age at visit" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	</dynamicAttributes>
          

        <summary>
            <![CDATA[
            In this search, you will build a set of Participants and you can further restrict the participants returned based on the relationship of two different selected visits.  You can use the wealth of data in the PRISM study to find Participants with scientifically interesting patterns.
            More here...  
            ]]>
        </summary>

        <propertyList name="organism">
           <value>H. sapien</value>
        </propertyList>
        <propertyList name="websiteProperties">
          <value>useWizard</value>
          <value>hideOperation</value>
          <value>hideTitle</value>
          <value>hideAttrDescr</value>
        </propertyList>
 
    </question>

   <question name="ParticipantsByDwellingId"   newBuild="1" 
              displayName="Transform to Participants"
              shortDisplayName="dwelling->participant"
              queryRef="ParticipantId.ParticipantsByDwellingIds" 
              recordClassRef="ParticipantRecordClasses.ParticipantRecordClass"
              noSummaryOnSingleRecord="true">


        <attributesList 
            summary="EUPATH_0000054,dwelling"   
            sorting="EUPATH_0000054 desc"
        /> 

	<dynamicAttributes>
	     <columnAttribute name="dwelling" displayName="Dwelling Transformed" help="Dwelling Participant is associated with" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	</dynamicAttributes>

             <summary>
             Find participant by dwelling id.
             </summary>

             <description>
               <![CDATA[
             Find participant by dwelling id.
               ]]>
             </description>
    </question>

      <question name="ParticipantsByClinicalVisit"   newBuild="22" 
              displayName="Transform to Participants"
              shortDisplayName="clinicalvisits->participant"
              queryRef="ParticipantId.ParticipantsByClinicalVisits" 
              recordClassRef="ParticipantRecordClasses.ParticipantRecordClass"
              noSummaryOnSingleRecord="true">


        <attributesList 
            summary="num_of_visits,EUPATH_0000054"   
            sorting="num_of_visits desc"
        /> 


	<dynamicAttributes>
	     <columnAttribute name="num_of_visits" displayName="Clincal Visits Transformed" help="Clinicals visits associated with the participant" align="center"> 
              <plugin name="histogram" display="Histogram"
                      description="Display a histogram of the values"
                      implementation="org.gusdb.wdk.model.record.attribute.plugin.HistogramAttributePlugin"
                      view="/wdk/jsp/results/histogram.jsp" />
            </columnAttribute>
	</dynamicAttributes>

             <summary>
             Find participants by by clinical visits.
             </summary>

             <description>
               <![CDATA[
             Find participants by clinical visits.
               ]]>
             </description>
    </question>

   <question name="ParticipantsBySourceID" newBuild="22"
	     displayName="Participant ID"
	     shortDisplayName="Participant ID"
	     queryRef="ParticipantId.ParticipantsBySourceID" 
             recordClassRef="ParticipantRecordClasses.ParticipantRecordClass"
             noSummaryOnSingleRecord="true">


        <attributesList 
            summary="source_id"   
            sorting="source_id desc"
        /> 
             <summary>
             Find participant by source id.
             </summary>

             <description>
               <![CDATA[
             Find participant by source id.
               ]]>
             </description>
    </question>


  </questionSet>
</wdkModel>

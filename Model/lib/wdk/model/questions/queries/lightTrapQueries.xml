<wdkModel>

  <!-- notes-->

  <querySet name="LightTrapId" queryType="id" isCacheable="false" includeProjects="ICEMR">

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Source id  -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

      <!-- TEMPLATE_ANCHOR lightTrapSourceIdQuery -->

    <sqlQuery name="LightTrapsByCharacteristics"
              isCacheable="true">
       <paramRef ref="participantParams.tbl_prefix" visible="false" default="ISASimple_ICEMR_PRISM_surveillance_RSRC"/>
       <paramRef ref="lightTrapParams.geographic_region" groupRef="metaDataGroups.geographic_loc"/>
       <paramRef ref="householdParams.date_range" groupRef="metaDataGroups.household_daterange"/>
       <paramRef ref="lightTrapParams.households_nf" groupRef="metaDataGroups.part_household_characteristics"/>
       <paramRef ref="lightTrapParams.lighttraps_nf" groupRef="metaDataGroups.lighttrap_characteristics"/>
       <column name="source_id"/>
       <column name="project_id"/>
         <sql>
           <![CDATA[
select lta.name as source_id, '@PROJECT_ID@' as project_id
from ApidbTuning.$$tbl_prefix$$LightTraps lta
where lta.pan_id in ($$lighttraps_nf$$)
                ]]>   
        </sql>
     </sqlQuery>


    <!-- Transforms -->
      
      <!-- TEMPLATE_ANCHOR lightTrapsByHouseholdsQuery  -->

  </querySet>
</wdkModel>
